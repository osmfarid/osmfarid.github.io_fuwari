---
import { getCategoryList } from '@utils/content-utils'
import ArchivePanel from '@components/organisms/ArchivePanel.astro'
import { i18n } from '@i18n/translation'
import I18nKey from '@i18n/i18nKey'
import BaseLayout from '@layouts/BaseLayout.astro'

export async function getStaticPaths() {
  const categories = await getCategoryList()
  return categories.map(category => ({
    params: {
      category: category.name,
    },
  }))
}

const { category } = Astro.params
---

<BaseLayout title={i18n(I18nKey.archive)} description={i18n(I18nKey.archive)}>
    <ArchivePanel categories={[category]}></ArchivePanel>
</BaseLayout>
